<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Project Skuba — Open Data & Standards</title>

    <!-- Favicons -->
    <link rel="icon" type="image/png" href="/assets/skuba/favicon.png" />
    <link rel="apple-touch-icon" href="/assets/skuba/logo-circle-light.png" />

    <!-- Open Graph / Social Media -->
    <meta property="og:title" content="Project Skuba — Open Data & Standards" />
    <meta
      property="og:description"
      content="Open data, schemas, and public standards for the diving community"
    />
    <meta
      property="og:image"
      content="https://open.skuba.app/assets/skuba/logo-circle-light.png"
    />
    <meta property="og:type" content="website" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.5.0/github-markdown.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/marked@11.1.0/marked.min.js"></script>
    <style>
      body {
        margin: 0;
        padding: 0;
        background-color: #f3f4f6;
        color: #000000;
      }
      .container {
        max-width: 1012px;
        margin: 0 auto;
        padding: 45px;
      }
      .markdown-body {
        box-sizing: border-box;
        min-width: 200px;
        max-width: 980px;
        margin: 0 auto;
        padding: 45px;
        background-color: #ffffff;
        color: #000000;
        border-radius: 12px;
        border: 3px solid #000000;
        box-shadow: 2px 4px 0 #000000;
      }
      @media (max-width: 767px) {
        .markdown-body {
          padding: 15px;
        }
      }
      /* Skuba brand theme colors */
      .markdown-body a {
        color: #0b95da;
        text-decoration: none;
      }
      .markdown-body a:hover {
        color: #075985;
        text-decoration: underline;
      }
      .markdown-body code {
        background-color: #f3f4f6;
        padding: 2px 6px;
        border-radius: 8px;
        border: 2px solid #000000;
        color: #374151;
      }
      .markdown-body pre {
        background-color: #f3f4f6;
        padding: 16px;
        border-radius: 12px;
        border: 3px solid #000000;
        box-shadow: 2px 4px 0 #000000;
        overflow-x: auto;
      }
      .markdown-body pre code {
        background-color: transparent;
        padding: 0;
        border: none;
      }
      .markdown-body table {
        border-collapse: separate;
        border-spacing: 0;
        border: 3px solid #000000;
        border-radius: 12px;
        overflow: hidden;
      }
      .markdown-body table tr {
        background-color: #ffffff;
      }
      .markdown-body table tr:nth-child(2n) {
        background-color: #f9fafb;
      }
      .markdown-body table th,
      .markdown-body table td {
        border-right: 2px solid #000000;
        border-bottom: 2px solid #000000;
        padding: 12px 16px;
      }
      .markdown-body table th:last-child,
      .markdown-body table td:last-child {
        border-right: 0;
      }
      .markdown-body table tr:last-child td {
        border-bottom: 0;
      }
      .markdown-body table th {
        background-color: #f3f4f6;
        font-weight: 600;
        border-bottom: 3px solid #000000;
      }
      .markdown-body hr {
        background-color: #000000;
        height: 3px;
        border: 0;
      }
      .markdown-body blockquote {
        border-left: 3px solid #0b95da;
        color: #374151;
        padding-left: 16px;
        margin-left: 0;
        background-color: #f3f4f6;
        padding: 12px 16px;
        border-radius: 8px;
      }
      .markdown-body h1,
      .markdown-body h2,
      .markdown-body h3,
      .markdown-body h4,
      .markdown-body h5,
      .markdown-body h6 {
        color: #000000;
        font-weight: 600;
      }
      /* Loading screen */
      .loading {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans",
          Helvetica, Arial, sans-serif;
        font-size: 16px;
        color: #374151;
        background-color: #f3f4f6;
      }
      .loading-logo {
        width: 80px;
        height: 80px;
        margin-bottom: 20px;
        animation: pulse 2s ease-in-out infinite;
      }
      .spinner {
        border: 3px solid #e5e7eb;
        border-top: 3px solid #0b95da;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        animation: spin 1s linear infinite;
        margin-bottom: 15px;
      }
      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
          transform: scale(1);
        }
        50% {
          opacity: 0.7;
          transform: scale(0.95);
        }
      }
    </style>
  </head>
  <body>
    <div id="loading" class="loading">
      <img
        src="/assets/skuba/logo-circle-light.png"
        alt="Project Skuba Logo"
        class="loading-logo"
      />
      <div class="spinner"></div>
      <span>Loading...</span>
    </div>
    <div id="content" class="container" style="display: none">
      <article class="markdown-body" id="markdown-content"></article>
    </div>

    <script>
      // Fetch and render README.md
      fetch("README.md")
        .then((response) => response.text())
        .then((markdown) => {
          // Configure marked for GitHub Flavored Markdown
          marked.setOptions({
            gfm: true,
            breaks: true,
            headerIds: true,
            mangle: false,
          });

          // Convert markdown to HTML
          const html = marked.parse(markdown);

          // Insert into page
          document.getElementById("markdown-content").innerHTML = html;

          // Hide loading, show content
          document.getElementById("loading").style.display = "none";
          document.getElementById("content").style.display = "block";

          // Update page title from first h1
          const firstH1 = document.querySelector("h1");
          if (firstH1) {
            document.title = firstH1.textContent + " — Project Skuba";
          }
        })
        .catch((error) => {
          console.error("Error loading README:", error);
          document.getElementById("loading").innerHTML =
            '<div style="color: #f85149;">⚠️ Failed to load README.md</div>';
        });
    </script>
  </body>
</html>
